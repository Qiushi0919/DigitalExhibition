# 数字展览空间 - Digital Exhibition Space

这是一款完整的 3D 数字展览空间应用程序，用户能在场景中导入、展示和操作 3D 模型。该项目包含一个精美的展示柜，支持 GLB 格式的 3D 模型导入，并提供丰富的交互功能，例如模型缩放、旋转和底座高度调整。

## 🚀 快速开始

**现在可以直接双击 `index.html` 文件，无需任何配置！**

### 使用方法

1. 找到 `index.html` 文件
2. 双击打开
3. 浏览器会自动运行项目
4. 如果浏览器提示"不安全"，点击"允许"或"继续访问"即可

### 特点

- ✅ **无需服务器** - 直接打开即可使用
- ✅ **无需配置** - 开箱即用
- ✅ **自动纹理** - 使用精美的程序生成纹理
- ✅ **功能完整** - 所有功能正常使用
- ✅ **无错误提示** - 不会出现CORS错误

## 📋 项目简介

这是一个功能完整的 3D 数字展览空间应用，用户可以在虚拟环境中导入、展示和操作 3D 模型。项目包含一个精美的展示柜，支持 GLB 格式的 3D 模型导入，并提供了丰富的交互功能，如模型缩放、旋转、基座高度调整等。

## ✨ 功能特性

### 🎨 核心功能

- **3D 展览空间**：创建了一个完整的 3D 虚拟展览空间，包含地面、墙壁、天花板和灯光系统
- **展示柜**：精美的展示柜设计，包含透明玻璃面板、金属框架和内部照明
- **GLB 模型导入**：支持导入 GLB 格式的 3D 模型到场景或展示柜中
- **模型替换机制**：导入新模型时会自动替换之前的模型，避免场景混乱
- **实时缩放控制**：支持动态调整模型大小，缩放范围 1-500（100 为基准）
- **展示柜基座高度调整**：可调整展示柜基座高度，范围 5-100（100 对应原 10.0）
- **物体旋转控制**：支持手动控制展示柜内物体的旋转（左旋转/右旋转）
- **旋转速度调整**：可调整旋转速度，范围 1-100（100 对应原 0.1）
- **第一人称视角**：支持 WASD 移动和鼠标视角控制

### 🎮 交互功能

- **相机控制**：WASD 移动、鼠标视角控制、空格上升、Shift 下降、R 重置相机
- **长按支持**：缩放和高度调整按钮支持长按连续调整
- **实时预览**：所有调整都会实时反映在 3D 场景中
- **触摸设备支持**：支持触摸设备的交互操作

## 🛠️ 技术栈

- **Three.js** (v0.144.0)：3D 图形渲染库
- **GLTFLoader**：GLB/GLTF 模型加载器
- **HTML5/CSS3/JavaScript**：前端技术
- **CDN 加载**：支持多个 CDN 源作为备用

## 📁 项目结构

```bash
DigitalExhibition/
├── index.html              # 主页面文件
├── js/
│   └── exhibition.js       # 主程序文件
├── models/                 # 3D 模型文件夹
│   ├── model.glb          # 示例模型（鸭子）
│   ├── vase.glb           # 花瓶模型
│   └── README.md          # 模型说明文件
├── README.md              # 项目说明文件（英文）
└── READMECN.md            # 项目说明文件（中文）
```

## 📖 使用方法

### 1. 导入 GLB 模型到场景

1. 点击右侧控制面板中的"导入GLB模型到场景"区域
2. 点击"选择文件"按钮
3. 选择一个 GLB 格式的 3D 模型文件
4. 模型会自动导入到场景中相机前方的位置
5. 使用缩放控制调整模型大小（范围：1-500，100 为基准）

### 2. 导入 GLB 模型到展示柜

1. 点击右侧控制面板中的"导入GLB模型到展示柜"区域
2. 点击"选择文件"按钮
3. 选择一个 GLB 格式的 3D 模型文件
4. 模型会自动导入到展示柜内部
5. 使用缩放控制调整模型大小（范围：1-500，100 为基准）

### 3. 调整展示柜基座高度

1. 在"调整展示柜基座高度"区域
2. 使用加号（+）或减号（-）按钮调整高度
3. 或直接在输入框中输入数值（范围：5-100）
4. 支持长按按钮连续调整

### 4. 旋转展示柜内的物体

1. 在"展示柜物体旋转"区域
2. 按住"◄ 左旋转"按钮进行左旋转（逆时针）
3. 按住"右旋转 ►"按钮进行右旋转（顺时针）
4. 松开按钮即停止旋转
5. 使用旋转速度控制调整旋转速度（范围：1-100）

## 🎮 控制说明

### 键盘控制

- **W键** - 向前移动
- **A键** - 向左移动
- **S键** - 向后移动
- **D键** - 向右移动
- **空格键** - 向上移动（上升）
- **Shift键** - 向下移动（下降）
- **R键** - 重置相机位置和视角到初始状态
- **数字键1** - 拾取/放回展示柜内的物体
- **← 左箭头键** - 开始/停止左旋转展示柜内的模型
- **→ 右箭头键** - 开始/停止右旋转展示柜内的模型
- **↑ 上箭头键** - 开始/停止向上旋转展示柜内的模型
- **↓ 下箭头键** - 开始/停止向下旋转展示柜内的模型
- **J键** - 升高展示柜基座高度（支持长按连续调整）
- **K键** - 降低展示柜基座高度（支持长按连续调整）

### 鼠标控制

- **鼠标移动** - 控制视角方向（上下左右）
  - 点击画布后进入指针锁定模式
  - 屏幕中心显示十字光标
  - 鼠标移动控制视角旋转
- **点击画布** - 进入指针锁定模式，启用鼠标视角控制
- **Q键** - 退出指针锁定模式（与ESC键功能相同）
- **ESC键** - 退出指针锁定模式

### 拾取和放回功能

- **数字键1** - 拾取/放回物体
  - 当没有手持物体时：按数字键1可以直接拾取展示柜内的物体（不需要对准，只要展示柜内有物体即可拾取）
  - 当已手持物体时：再次按数字键1可以将物体放回展示柜原处
  - 拾取后的物体会跟随相机移动，显示在屏幕前方
  - 放回时会恢复到物体原来的位置和旋转

## 📝 功能详解

### 缩放参数系统

- **场景导入**：缩放范围 1-500
- **展示柜导入**：缩放范围 1-500

### 基座高度系统

- **范围**：5-100

### 旋转速度系统

- **范围**：1-100

### 模型替换机制

- **场景导入**：导入新模型时会自动删除之前的模型
- **展示柜导入**：导入新模型时会自动清除展示柜内的所有模型
- **资源清理**：删除模型时会自动清理几何体和材质资源

## ⚙️ 配置说明

### 展示柜尺寸

- **宽度**：3 单位
- **高度**：2.5 单位
- **深度**：1.5 单位
- **玻璃厚度**：0.05 单位
- **基座高度**：可调整（默认 1.2 单位）

### 相机设置

- **初始位置**：(0, 6, 8)
- **视角**：75 度
- **近平面**：0.1
- **远平面**：1000

### 光照设置

- **环境光**：柔和的环境光
- **定向光**：主要照明光源
- **点光源**：展示柜内部照明
- **阴影**：启用软阴影

## 🔧 开发说明

### 主要文件

- **index.html**：主页面，包含 CDN 加载逻辑和 UI 结构
- **js/exhibition.js**：主程序文件，包含所有核心功能

### 核心函数

- `init()`：初始化场景、相机、渲染器
- `createExhibitionSpace()`：创建展览空间（地面、墙壁、天花板）
- `createDisplayCase()`：创建展示柜
- `loadGLBFromFile()`：从文件加载 GLB 模型到场景
- `loadGLBToDisplayCase()`：从文件加载 GLB 模型到展示柜
- `adjustDisplayCasePedestalHeight()`：调整展示柜基座高度
- `applyScaleToModel()`：应用缩放到场景中的模型
- `applyScaleToDisplayCaseModel()`：应用缩放到展示柜中的模型
- `animate()`：动画循环

### 全局变量

- `displayCase`：展示柜对象
- `displayCaseGroup`：展示柜内部容器组
- `currentImportedModel`：当前场景中导入的模型
- `currentDisplayCaseModel`：当前展示柜内的模型
- `displayCasePedestalHeight`：展示柜基座高度
- `displayCaseRotationDirection`：旋转方向（-1/0/1）
- `displayCaseRotationSpeed`：旋转速度

## 📌 注意事项

1. **网络连接**：项目依赖 CDN 加载 Three.js 和 GLTFLoader，需要网络连接
2. **浏览器兼容性**：需要支持 WebGL 的现代浏览器
3. **模型格式**：仅支持 GLB 格式的 3D 模型
4. **模型大小**：建议模型文件不要过大，以免加载时间过长
5. **资源清理**：导入新模型时会自动清理旧模型的资源，避免内存泄漏

## 🐛 已知问题

1. 模型加载失败时，会在控制台显示错误信息

## 🚀 部署说明

项目支持**直接双击打开 `index.html` 文件**，无需启动服务器！

**特点：**

- ✅ 可以直接打开HTML文件，无需服务器
- ✅ 自动使用程序生成的精美纹理（博物馆风格）
- ✅ 所有功能正常使用
- ✅ 不会出现CORS错误

**使用方法：**

1. 直接双击 `index.html` 文件
2. 浏览器会自动打开并运行项目
3. 如果浏览器提示"不安全"，点击"允许"或"继续访问"即可

## 🔮 未来计划

- [ ] 支持更多 3D 模型格式（OBJ、FBX 等）
- [ ] 添加模型动画支持
- [ ] 添加多展示柜支持
- [ ] 添加模型材质编辑功能
- [ ] 添加场景保存和加载功能
- [ ] 添加 VR 支持
- [ ] 优化移动设备体验

---

**享受您的数字展览之旅！** 🎨✨

